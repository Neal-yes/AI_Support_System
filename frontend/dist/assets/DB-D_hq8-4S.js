import{d as v,r as o,b as x,e,h as u,j as d,k as f,l as b,t as y,m as S}from"./index-esQvTIoC.js";import{a as V}from"./index-NIGUFBhG.js";const g={class:"card"},T=v({__name:"DB",setup(k){const s=o("echo_int"),a=o(""),i=o('{"x": 123}'),p=o(!1),r=o("");async function m(){try{const n=JSON.parse(i.value||"{}"),l={template_id:s.value,params:n,explain:p.value};a.value&&a.value.trim()&&(l.template_version=a.value.trim());const{data:t}=await V.post("/api/v1/db/query_template",l);r.value=JSON.stringify(t,null,2)}catch(n){r.value=String(n?.message||n)}}return(n,l)=>(S(),x("section",g,[l[9]||(l[9]=e("h2",null,"DB Template Query",-1)),e("form",{onSubmit:b(m,["prevent"])},[e("div",null,[l[4]||(l[4]=e("label",null,"Template ID",-1)),u(e("input",{"onUpdate:modelValue":l[0]||(l[0]=t=>s.value=t),placeholder:"echo_int"},null,512),[[d,s.value]])]),e("div",null,[l[5]||(l[5]=e("label",null,"Template Version",-1)),u(e("input",{"onUpdate:modelValue":l[1]||(l[1]=t=>a.value=t),placeholder:"(optional, e.g. v1)"},null,512),[[d,a.value]])]),e("div",null,[l[6]||(l[6]=e("label",null,"Params (JSON)",-1)),u(e("textarea",{"onUpdate:modelValue":l[2]||(l[2]=t=>i.value=t),rows:"5",placeholder:'{"x": 123}'},null,512),[[d,i.value]])]),e("div",null,[l[7]||(l[7]=e("label",null,"Explain",-1)),u(e("input",{type:"checkbox","onUpdate:modelValue":l[3]||(l[3]=t=>p.value=t)},null,512),[[f,p.value]])]),l[8]||(l[8]=e("button",{type:"submit"},"Execute",-1))],32),e("pre",null,y(r.value),1)]))}});export{T as default};
